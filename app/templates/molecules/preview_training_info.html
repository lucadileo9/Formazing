<!-- ðŸ§© MOLECULE: Training information card -->
{% macro training_info_card(training, action_type, codice_generato=None) %}
<div class="card">
    <div class="card-header bg-primary text-white">
        <i class="bi bi-info-circle me-2"></i>Informazioni Formazione
    </div>
    <div class="card-body">
        <dl class="row mb-0">
            <dt class="col-sm-3">Nome:</dt>
            <dd class="col-sm-9 fw-bold">{{ training.Nome }}</dd>
            
            <dt class="col-sm-3">Area:</dt>
            <dd class="col-sm-9">
                {% if training.Area %}
                    <div class="d-flex flex-wrap gap-1">
                        {% for area in training.Area %}
                            {% set text = area %}
                            {% set color = 'bg-secondary' %}
                            {% include 'atoms/badge.html' %}
                        {% endfor %}
                    </div>
                {% else %}
                    <span class="text-muted">N/A</span>
                {% endif %}
            </dd>
            
            <dt class="col-sm-3">Data:</dt>
            <dd class="col-sm-9">
                {{ training['Data/Ora'] if training['Data/Ora'] else '<span class="text-muted">N/A</span>' | safe }}
            </dd>
            
            <dt class="col-sm-3">Stato Attuale:</dt>
            <dd class="col-sm-9">
                {% if training.Stato == 'Programmata' %}
                    {% set text = 'Programmata' %}
                    {% set color = 'bg-warning' %}
                    {% include 'atoms/badge.html' %}
                {% elif training.Stato == 'Calendarizzata' %}
                    {% set text = 'Calendarizzata' %}
                    {% set color = 'bg-info' %}
                    {% include 'atoms/badge.html' %}
                {% else %}
                    {% set text = 'Conclusa' %}
                    {% set color = 'bg-success' %}
                    {% include 'atoms/badge.html' %}
                {% endif %}
            </dd>
            
            {% if action_type == 'notification' %}
                <dt class="col-sm-3">Nuovo Codice:</dt>
                <dd class="col-sm-9">
                    <code class="user-select-all">{{ codice_generato }}</code>
                </dd>
                
                {% if training.LinkTeams %}
                <dt class="col-sm-3">Link Teams:</dt>
                <dd class="col-sm-9">
                    <a href="{{ training.LinkTeams }}" 
                       target="_blank" 
                       class="btn btn-sm btn-outline-primary">
                        <i class="bi bi-microsoft-teams"></i> Vai al meeting
                    </a>
                </dd>
                {% endif %}
            
            {% elif training.Codice %}
                <dt class="col-sm-3">Codice:</dt>
                <dd class="col-sm-9">
                    <code class="user-select-all">{{ training.Codice }}</code>
                </dd>
            {% endif %}
        </dl>
    </div>
</div>
{% endmacro %}
